Get All Event Webhooks

Positive FeedbackNegative Feedback

API Overview

api-overview page anchor

Positive FeedbackNegative Feedback

The SendGrid Event Webhook sends email event data as SendGrid processes it. This means you can receive data in nearly real-time, making it ideal to integrate with logging or monitoring systems.

Because the Event Webhook delivers data to your systems, it is also well-suited to backing up and storing event data within your infrastructure to meet your own data access and retention needs.

Event types

event-types page anchor

Positive FeedbackNegative Feedback

You can think about the types of events provided by the Event Webhook in two categories: deliverability events and engagement events.

Deliverability events such as "delivered," "bounced," and "processed" help you understand if your email is being delivered to your customers.

Engagement events such as "open," and "click" help you understand if customers are reading and interacting with your emails after they arrive.

Both types of events are important and should be monitored to understand the overall health of your email program. The Webhooks API allows you to configure your Event Webhook configurations.

Data storage

data-storage page anchor

Positive FeedbackNegative Feedback

Currently, data staged to be posted through the webhooks is stored in the US.

Operation overview

operation-overview page anchor

Positive FeedbackNegative Feedback

GET/v3/user/webhooks/event/settings/all

Base url: https://api.sendgrid.com (for global users and subusers)

Base url: https://api.eu.sendgrid.com (for EU regional subusers)

This endpoint allows you to retrieve all of your Event Webhooks.

Each webhook will be returned as an object in the
webhooks
 array with the webhook's configuration details and ID. You can use a webhook's ID to
update the webhook's settings
,
delete the webhook
,
enable or disable signature verification for the webhook
, and, if signature verification is enabled,
retrieve the webhook's public key
 when signature verification is enabled.

Event settings

event-settings page anchor

Positive FeedbackNegative Feedback

Each webhook's settings determine which events will be included in the POST request by the webhook and the URL where the request will be sent. See the
Event Webhook Reference
 for details about each event type.

Signature verification

signature-verification page anchor

Positive FeedbackNegative Feedback

The
public_key
 property will be returned only for webhooks with signature verification enabled.

OAuth

oauth page anchor

Positive FeedbackNegative Feedback

You may share one OAuth configuration across all your webhooks or create unique credentials for each. The OAuth properties will be returned only for webhooks with OAuth configured.

Operation details

operation-details page anchor

Positive FeedbackNegative Feedback

Authentication

authentication page anchor

Positive FeedbackNegative Feedback

API Key

Headers

headers page anchor

Positive FeedbackNegative Feedback

Property nameTypeRequiredDescription

Authorizationstring

required

Default:
Bearer <<YOUR_API_KEY_HERE>>

on-behalf-ofstring

Optional

The
on-behalf-of
 header allows you to make API calls from a parent account on behalf of the parent's Subusers or customer accounts. You will use the parent account's API key when using this header. When making a call on behalf of a customer account, the property value should be "account-id" followed by the customer account's ID (e.g.,
on-behalf-of: account-id <account-id>
). When making a call on behalf of a Subuser, the property value should be the Subuser's username (e.g.,
on-behalf-of: <subuser-username>
). See
On Behalf Of
 for more information.

Query string

query-string page anchor

Positive FeedbackNegative Feedback

Property nameTypeRequiredDescription

includestring

Optional

Use this to include optional fields in the response payload. When this is set to
include=account_status_change
, the
account_status_change
 field will be part of the response payload and set to
false
 by default. See
Update an event webhook
 for enabling this webhook notification which lets you subscribe to account status change events related to compliance action taken by SendGrid.

Responses

responses page anchor

Positive FeedbackNegative Feedback

200

Success

SchemaExample

Property nameTypeRequiredDescriptionChild properties

max_allowednumber

Optional

The maximum number of Event Webhooks you can have enabled under your current Twilio SendGrid plan. See the
Twilio SendGrid pricing page(link takes you to an external page)
 for more information about the features available with each plan.

webhooksarray[object]

Optional

An array of Event Webhook objects. Each object represents one of your webhooks and contains its configuration settings, including which events it is set to send in the POST request, the URL where it will send those events, and the webhook's ID.

Show webhooks properties

Property nameTypeRequiredDescriptionChild properties

enabledboolean

Optional

Indicates if the Event Webhook is enabled.

urlstring

Optional

The URL where SendGrid will send event data.

account_status_changeboolean

Optional

Indicates if the webhook is configured to send account status change events related to compliance action taken by SendGrid.

group_resubscribeboolean

Optional

Indicates if the webhook is configured to send group resubscribe events. Group resubscribes occur when recipients resubscribe to a specific
unsubscribe group
 by updating their subscription preferences. You must
enable Subscription Tracking
 to receive this type of event.

deliveredboolean

Optional

Indicates if the webhook is configured to send delivered events. Delivered events occur when a message has been successfully delivered to the receiving server.

group_unsubscribeboolean

Optional

Indicates if the webhook is configured to send group unsubscribe events. Group unsubscribes occur when recipients unsubscribe from a specific
unsubscribe group
 either by direct link or by updating their subscription preferences. You must
enable Subscription Tracking
 to receive this type of event.

spam_reportboolean

Optional

Indicates if the webhook is configured to send spam report events. Spam reports occur when recipients mark a message as spam.

bounceboolean

Optional

Indicates if the webhook is configured to send bounce events. A bounce occurs when a receiving server could not or would not accept a message.

deferredboolean

Optional

Indicates if the webhook is configured to send deferred events. Deferred events occur when a recipient's email server temporarily rejects a message.

unsubscribeboolean

Optional

Indicates if the webhook is configured to send unsubscribe events. Unsubscribes occur when recipients click on a message's subscription management link. You must
enable Subscription Tracking
 to receive this type of event.

processedboolean

Optional

Indicates if the webhook is configured to send processed events. Processed events occur when a message has been received by Twilio SendGrid and is ready to be delivered.

openboolean

Optional

Indicates if the webhook is configured to send open events. Open events occur when a recipient has opened the HTML message. You must
enable Open Tracking
 to receive this type of event.

clickboolean

Optional

Indicates if the webhook is configured to send click events. Click events occur when a recipient clicks on a link within the message. You must
enable Click Tracking
 to receive this type of event.

droppedboolean

Optional

Indicates if the webhook is configured to send dropped events. Dropped events occur when your message is not delivered by Twilio SendGrid. Dropped events are accomponied by a
reason
 property, which indicates why the message was dropped. Reasons for a dropped message include: Invalid SMTPAPI header, Spam Content (if spam checker app enabled), Unsubscribed Address, Bounced Address, Spam Reporting Address, Invalid, Recipient List over Package Quota.

friendly_namestring or null

Optional

An optional friendly name assigned to the Event Webhook to help you differentiate it. The friendly name is for convenience only. You should use the webhook
id
 property for any programmatic tasks.

idstring

Optional

A unique string used to identify the webhook. A webhook's ID is generated programmatically and cannot be changed after creation. You can assign a natural language identifier to your webhook using the
friendly_name
 property.

created_datestring
 or null

Optional

An ISO 8601 timestamp in UTC timezone when the Event Webhook was created. If a Webhook's
created_date
 is
null
, it is a
legacy Event Webook(link takes you to an external page)
, which means it is your oldest Webhook.

updated_datestring

Optional

An ISO 8601 timestamp in UTC timezone when the Event Webhook was last modified.

oauth_client_idstring or null

Optional

The OAuth client ID SendGrid sends to your OAuth server or service provider to generate an OAuth access token.

oauth_token_urlstring or null

Optional

The URL where SendGrid sends the OAuth client ID and client secret to generate an access token. This should be your OAuth server or service provider.

public_keystring

Optional

The public key you can use to verify the SendGrid signature.

Select from available examples

Copy code block

{

"max_allowed": 5,

"webhooks": [

{

"enabled": true,

"url": "https://emailengagment.example.com",

"group_resubscribe": true,

"delivered": true,

"group_unsubscribe": true,

"spam_report": true,

"bounce": true,

"deferred": true,

"unsubscribe": true,

"processed": false,

"open": true,

"click": true,

"dropped": true,

"friendly_name": "Engagment Webhook",

"id": "77d4a5da-7015-11ed-a1eb-0242ac120002",

"oauth_client_id": "a835e7210bbb47edbfa71bdfc909b2d7",

"oauth_token_url": "https://oauthservice.example.com",

"public_key": "123publickeyabc",

"created_date": "2023-01-01T12:00:00Z",

"updated_date": "2023-02-15T10:00:00Z"

},

{

"enabled": true,

"url": "https://emaildelivery.example.com",

"group_resubscribe": false,

"delivered": true,

"group_unsubscribe": false,

"spam_report": false,

"bounce": true,

"deferred": true,

"unsubscribe": false,

"processed": true,

"open": false,

"click": false,

"dropped": true,

"friendly_name": "Delivery Webhook",

"id": "77d4a5da-7015-11ed-a1eb-0242ac120003",

"oauth_client_id": "a835e7210bbb47edbfa71bdfc909b2d7",

"oauth_token_url": "https://oauthservice.example.com",

"public_key": "123publickeydef",

"created_date": "2023-01-01T12:00:00Z",

"updated_date": "2023-02-15T10:00:00Z"

}

]

}

Get All Event Webhooks
Link to code sample: Get All Event Webhooks

Report code block

Copy code block

1

const client = require("@sendgrid/client");

2

client.setApiKey(process.env.SENDGRID_API_KEY);

3

4

const request = {

5

url: `/v3/user/webhooks/event/settings/all`,

6

method: "GET",

7

};

8

9

client

10

.request(request)

11

.then(([response, body]) => {

12

console.log(response.statusCode);

13

console.log(response.body);

14

})

15

.catch((error) => {

16

console.error(error);

17

});

Include account_status_change in the response payload
Link to code sample: Include account_status_change in the response payload

Report code block

Copy code block

1

const client = require("@sendgrid/client");

2

client.setApiKey(process.env.SENDGRID_API_KEY);

3

4

const queryParams = { include: "account_status_change" };

5

6

const request = {

7

url: `/v3/user/webhooks/event/settings/all`,

8

method: "GET",

9

qs: queryParams,

10

};

11

12

client

13

.request(request)

14

.then(([response, body]) => {

15

console.log(response.statusCode);

16

console.log(response.body);

17

})

18

.catch((error) => {

19

console.error(error);

20

});